<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Details - Skillora</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #2c3e50;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        /* Course Header Section */
        .course-header {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .course-thumbnail {
            flex: 1;
            min-width: 300px;
            border-radius: 8px;
            overflow: hidden;
            height: 300px;
        }

        .course-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .course-info {
            flex: 2;
            min-width: 300px;
        }

        .course-category {
            display: inline-block;
            background-color: #e8f4fc;
            color: #6c28d0;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .course-title {
            font-size: 28px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .course-description {
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .course-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #7f8c8d;
        }

        .instructor-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .instructor-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #6c28d0;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }

        .instructor-name {
            font-weight: 600;
        }

        .instructor-title {
            color: #7f8c8d;
            font-size: 14px;
        }

        .course-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
        }

        .btn-primary {
            background-color: #6c28d0;
            color: white;
        }

        .btn-primary:hover {
            background-color: #9529b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #6c28d0;
            color: #6c28d0;
        }

        .btn-outline:hover {
            background-color: #f0f8ff;
        }

        .btn-save {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .price-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .course-price {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }


        .course-content {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 24px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: #6c28d0;
        }

        .accordion {
            margin-top: 20px;
        }

        .accordion-item {
            border: 1px solid #eee;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .accordion-header {
            padding: 15px 20px;
            background-color: #f8f9fa;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .accordion-header:hover {
            background-color: #e9ecef;
        }

        .accordion-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .accordion-item.active .accordion-content {
            padding: 15px 20px;
            max-height: 1000px;
        }

        .lesson-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .lesson-item:last-child {
            border-bottom: none;
        }

        .lesson-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lesson-icon {
            color: #7f8c8d;
        }

        .lesson-duration {
            color: #7f8c8d;
            font-size: 14px;
        }


        .course-reviews {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .rating-overview {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .average-rating {
            font-size: 48px;
            font-weight: bold;
            color: #2c3e50;
        }

        .stars-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .stars {
            color: #f39c12;
            font-size: 20px;
        }

        .total-reviews {
            color: #7f8c8d;
        }

        .rating-bars {
            flex: 1;
        }

        .rating-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .bar-label {
            width: 80px;
            font-size: 14px;
        }

        .bar-container {
            flex: 1;
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background-color: #f39c12;
        }

        .reviews-list {
            margin-top: 30px;
        }

        .review-item {
            border-bottom: 1px solid #eee;
            padding: 20px 0;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .reviewer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #6c28d0;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .reviewer-name {
            font-weight: 500;
        }

        .review-date {
            color: #7f8c8d;
            font-size: 14px;
        }

        .review-stars {
            color: #f39c12;
        }

        .review-content {
            color: #2c3e50;
            line-height: 1.6;
        }


        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #2c3e50;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 400px;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast.success {
            background-color: #28a745;
        }

        .toast.error {
            background-color: #dc3545;
        }

        .toast .toast-icon {
            font-size: 20px;
        }

        .toast .toast-message {
            flex: 1;
        }


        @media (max-width: 768px) {
            .course-header {
                flex-direction: column;
            }

            .course-thumbnail {
                height: 200px;
            }

            .course-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .toast {
                bottom: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }
    </style>
</head>
<body>

<div id="navbar-container"></div>


<div class="container">

    <section class="course-header">
        <div class="course-thumbnail">
            <img id="course-image" src="" alt="Course Thumbnail">
        </div>
        <div class="course-info">
            <span id="course-category" class="course-category">Web Development</span>
            <h1 id="course-title" class="course-title">Course Title</h1>
            <p id="course-description" class="course-description">Course description will be loaded here...</p>

            <div class="course-meta">
                <div class="meta-item">
                    <i class="fas fa-star"></i>
                    <span id="course-rating">4.8 (1.2k reviews)</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-users"></i>
                    <span id="course-students">5,000 students</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-clock"></i>
                    <span id="course-duration">12 hours</span>
                </div>
            </div>

            <div class="instructor-info">
                <div id="instructor-avatar" class="instructor-avatar">JD</div>
                <div>
                    <div id="instructor-name" class="instructor-name">John Doe</div>
                    <div id="instructor-title" class="instructor-title">Senior Developer</div>
                </div>
            </div>

            <div class="price-container">
                <div id="course-price" class="course-price">$49.99</div>
            </div>

            <div class="course-actions">
                <button class="btn btn-primary" id="enroll-now-btn">Enroll Now</button>
                <button id="save-course-btn" class="btn btn-outline btn-save">
                    <i class="far fa-heart"></i> Save
                </button>
            </div>
        </div>
    </section>


    <section class="course-content">
        <h2 class="section-title">Course Content</h2>
        <div class="accordion" id="course-accordion">

        </div>
    </section>


    <section class="course-reviews">
        <h2 class="section-title">Student Reviews</h2>

        <div class="rating-overview">
            <div class="average-rating">4.8</div>
            <div class="stars-container">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <div class="total-reviews">1,245 reviews</div>
            </div>

            <div class="rating-bars">
                <div class="rating-bar">
                    <div class="bar-label">5 stars</div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 75%;"></div>
                    </div>
                    <div class="bar-percent">75%</div>
                </div>
                <div class="rating-bar">
                    <div class="bar-label">4 stars</div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 15%;"></div>
                    </div>
                    <div class="bar-percent">15%</div>
                </div>
                <div class="rating-bar">
                    <div class="bar-label">3 stars</div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 5%;"></div>
                    </div>
                    <div class="bar-percent">5%</div>
                </div>
                <div class="rating-bar">
                    <div class="bar-label">2 stars</div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 3%;"></div>
                    </div>
                    <div class="bar-percent">3%</div>
                </div>
                <div class="rating-bar">
                    <div class="bar-label">1 star</div>
                    <div class="bar-container">
                        <div class="bar-fill" style="width: 2%;"></div>
                    </div>
                    <div class="bar-percent">2%</div>
                </div>
            </div>
        </div>

        <div class="reviews-list" id="reviews-list">

        </div>
    </section>
</div>


<div id="footer-container"></div>


<script>

    document.addEventListener('DOMContentLoaded', function () {
        fetch('nav.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;


                const event = new Event('navbarLoaded');
                document.dispatchEvent(event);


                if (!document.querySelector('script[src="nav.js"]')) {
                    const script = document.createElement('script');
                    script.src = 'nav.js';
                    document.body.appendChild(script);
                }


                initializeCourse();
            })
            .catch(error => {
                console.error('Error loading navbar:', error);
                showToast('Error loading navigation bar. Please try again.', 'error');
            });

        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error));
    });


    function showToast(message, type = 'success') {
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        toast.innerHTML = `
        <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} toast-icon"></i>
        <span class="toast-message">${message}</span>
      `;
        document.body.appendChild(toast);


        setTimeout(() => {
            toast.classList.add('show');
        }, 100);


        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 3000);
    }

    function initializeCourse() {

        const urlParams = new URLSearchParams(window.location.search);
        const courseId = urlParams.get('id');


        const courses = {
            '1': {
                id: '1',
                title: 'Modern JavaScript From Scratch',
                category: 'Web Development',
                description: 'Learn modern JavaScript from the ground up. This comprehensive course covers all the fundamentals you need to become a proficient JavaScript developer, including ES6+ features, asynchronous programming, and DOM manipulation.',
                image: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.8,
                reviews: 1245,
                students: 5000,
                duration: '12 hours',
                price: '$49.99',
                instructor: {
                    name: 'John Smith',
                    title: 'Senior JavaScript Developer',
                    avatar: 'JS'
                },
                content: [
                    {
                        section: 'Getting Started',
                        lessons: [
                            {title: 'Introduction to JavaScript', duration: '15 min', type: 'video'},
                            {title: 'Setting Up Your Environment', duration: '20 min', type: 'video'},
                            {title: 'Your First JavaScript Program', duration: '10 min', type: 'video'},
                            {title: 'Variables and Data Types', duration: '25 min', type: 'video'},
                            {title: 'Section Quiz', duration: '15 min', type: 'quiz'}
                        ]
                    },
                    {
                        section: 'JavaScript Fundamentals',
                        lessons: [
                            {title: 'Operators and Expressions', duration: '30 min', type: 'video'},
                            {title: 'Conditional Statements', duration: '25 min', type: 'video'},
                            {title: 'Loops and Iteration', duration: '35 min', type: 'video'},
                            {title: 'Functions Basics', duration: '40 min', type: 'video'},
                            {title: 'Practice Exercises', duration: '45 min', type: 'exercise'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'Sarah Johnson',
                        avatar: 'SJ',
                        rating: 5,
                        date: '2 weeks ago',
                        content: 'This course is absolutely fantastic! John explains complex concepts in a way that\'s easy to understand. I went from knowing nothing about JavaScript to building my own projects in just a few weeks.'
                    }
                ]
            },
            '2': {
                id: '2',
                title: 'Python for Beginners',
                category: 'Web Development',
                description: 'Start your programming journey with Python, one of the most popular and versatile programming languages. This course covers Python syntax, data structures, and practical projects to get you started.',
                image: 'https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.7,
                reviews: 980,
                students: 3500,
                duration: '10 hours',
                price: '$39.99',
                instructor: {
                    name: 'Paul Davis',
                    title: 'Python Developer',
                    avatar: 'PD'
                },
                content: [
                    {
                        section: 'Python Basics',
                        lessons: [
                            {title: 'Introduction to Python', duration: '20 min', type: 'video'},
                            {title: 'Variables and Data Types', duration: '25 min', type: 'video'},
                            {title: 'Python Operators', duration: '30 min', type: 'video'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'Michael Brown',
                        avatar: 'MB',
                        rating: 5,
                        date: '1 month ago',
                        content: 'Excellent course for beginners! Paul explains everything clearly and at a good pace.'
                    }
                ]
            },
            '3': {
                id: '3',
                title: 'React Native - The Practical Guide',
                category: 'Mobile Development',
                description: 'Build cross-platform mobile apps with React Native. Learn how to create real-world applications for both iOS and Android using your existing JavaScript knowledge.',
                image: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.9,
                reviews: 1500,
                students: 4200,
                duration: '15 hours',
                price: '$59.99',
                instructor: {
                    name: 'Anna Robinson',
                    title: 'Mobile Developer',
                    avatar: 'AR'
                },
                content: [
                    {
                        section: 'React Native Fundamentals',
                        lessons: [
                            {title: 'Introduction to React Native', duration: '25 min', type: 'video'},
                            {title: 'Setting Up Your Environment', duration: '30 min', type: 'video'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'Emma Wilson',
                        avatar: 'EW',
                        rating: 5,
                        date: '3 weeks ago',
                        content: 'Anna is an amazing instructor! This course helped me build my first mobile app in just 2 weeks.'
                    }
                ]
            },
            '4': {
                id: '4',
                title: 'Data Science A-Zâ„¢',
                category: 'Data Science',
                description: 'Learn Data Science step by step through real-world analytics examples. Data Mining, Modeling, Tableau Visualization and more!',
                image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.6,
                reviews: 850,
                students: 3000,
                duration: '20 hours',
                price: '$69.99',
                instructor: {
                    name: 'Kate Thompson',
                    title: 'Data Scientist',
                    avatar: 'KT'
                },
                content: [
                    {
                        section: 'Data Science Basics',
                        lessons: [
                            {title: 'Introduction to Data Science', duration: '30 min', type: 'video'},
                            {title: 'Data Cleaning Techniques', duration: '40 min', type: 'video'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'David Lee',
                        avatar: 'DL',
                        rating: 4,
                        date: '2 months ago',
                        content: 'Great introduction to data science concepts. The practical examples were very helpful.'
                    }
                ]
            },
            '5': {
                id: '5',
                title: 'UI/UX Design Fundamentals',
                category: 'Design',
                description: 'Learn the fundamentals of user interface and user experience design. Create wireframes, prototypes, and high-fidelity designs that users will love.',
                image: 'https://images.unsplash.com/photo-1541462608143-67571c6738dd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.5,
                reviews: 720,
                students: 2500,
                duration: '8 hours',
                price: '$44.99',
                instructor: {
                    name: 'Lisa Morgan',
                    title: 'UI/UX Designer',
                    avatar: 'LM'
                },
                content: [
                    {
                        section: 'Design Principles',
                        lessons: [
                            {title: 'Introduction to UI/UX', duration: '25 min', type: 'video'},
                            {title: 'Color Theory', duration: '30 min', type: 'video'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'Sophia Chen',
                        avatar: 'SC',
                        rating: 5,
                        date: '1 month ago',
                        content: 'Lisa is a fantastic teacher! I learned so much about design thinking in this course.'
                    }
                ]
            },
            '6': {
                id: '6',
                title: 'Digital Marketing Masterclass',
                category: 'Business',
                description: 'Master digital marketing strategy, social media marketing, SEO, YouTube, email marketing, Facebook ads, Google ads and more!',
                image: 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                rating: 4.7,
                reviews: 1100,
                students: 4000,
                duration: '15 hours',
                price: '$54.99',
                instructor: {
                    name: 'David Wilson',
                    title: 'Marketing Expert',
                    avatar: 'DW'
                },
                content: [
                    {
                        section: 'Marketing Basics',
                        lessons: [
                            {title: 'Introduction to Digital Marketing', duration: '30 min', type: 'video'},
                            {title: 'Creating a Marketing Strategy', duration: '45 min', type: 'video'}
                        ]
                    }
                ],
                reviews: [
                    {
                        name: 'James Miller',
                        avatar: 'JM',
                        rating: 5,
                        date: '3 weeks ago',
                        content: 'This course covers everything you need to know about digital marketing. Highly recommended!'
                    }
                ]
            }
        };


        const course = courses[courseId] || courses['1']; // Default to first course if ID not found


        document.getElementById('course-title').textContent = course.title;
        document.getElementById('course-category').textContent = course.category;
        document.getElementById('course-description').textContent = course.description;
        document.getElementById('course-image').src = course.image;
        document.getElementById('course-image').alt = course.title;
        document.getElementById('course-rating').textContent = `${course.rating} (${course.reviews.toLocaleString()} reviews)`;
        document.getElementById('course-students').textContent = `${course.students.toLocaleString()} students`;
        document.getElementById('course-duration').textContent = course.duration;
        document.getElementById('course-price').textContent = course.price;


        document.getElementById('instructor-name').textContent = course.instructor.name;
        document.getElementById('instructor-title').textContent = course.instructor.title;
        document.getElementById('instructor-avatar').textContent = course.instructor.avatar;


        document.title = `${course.title} - Skillora`;


        const accordion = document.getElementById('course-accordion');
        course.content.forEach((section, index) => {
            const sectionElement = document.createElement('div');
            sectionElement.className = 'accordion-item';
            sectionElement.innerHTML = `
          <div class="accordion-header">
            <span>${section.section}</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content">
            ${section.lessons.map(lesson => `
              <div class="lesson-item">
                <div class="lesson-info">
                  <i class="fas ${lesson.type === 'video' ? 'fa-play-circle' : lesson.type === 'quiz' ? 'fa-question-circle' : 'fa-code'} lesson-icon"></i>
                  <span>${lesson.title}</span>
                </div>
                <span class="lesson-duration">${lesson.duration}</span>
              </div>
            `).join('')}
          </div>
        `;
            accordion.appendChild(sectionElement);
        });


        const reviewsList = document.getElementById('reviews-list');
        course.reviews.forEach(review => {
            const reviewElement = document.createElement('div');
            reviewElement.className = 'review-item';
            reviewElement.innerHTML = `
          <div class="review-header">
            <div class="reviewer-info">
              <div class="reviewer-avatar">${review.avatar}</div>
              <div>
                <div class="reviewer-name">${review.name}</div>
                <div class="review-date">${review.date}</div>
              </div>
            </div>
            <div class="review-stars">
              ${'<i class="fas fa-star"></i>'.repeat(Math.floor(review.rating))}
              ${review.rating % 1 !== 0 ? '<i class="fas fa-star-half-alt"></i>' : ''}
            </div>
          </div>
          <div class="review-content">${review.content}</div>
        `;
            reviewsList.appendChild(reviewElement);
        });


        const accordionItems = document.querySelectorAll('.accordion-item');
        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            header.addEventListener('click', () => {
                const isActive = item.classList.contains('active');
                accordionItems.forEach(i => i.classList.remove('active'));
                if (!isActive) {
                    item.classList.add('active');
                }
            });
        });


        if (accordionItems.length > 0) {
            accordionItems[0].classList.add('active');
        }


        const saveCourseBtn = document.getElementById('save-course-btn');
        let savedCourses = JSON.parse(localStorage.getItem('savedCourses')) || [];


        const isSaved = savedCourses.some(c => c.id === course.id);
        if (isSaved) {
            saveCourseBtn.innerHTML = '<i class="fas fa-heart"></i> Saved';
            saveCourseBtn.style.color = '#e74c3c';
            saveCourseBtn.style.borderColor = '#e74c3c';
        }

        saveCourseBtn.addEventListener('click', function () {
            if (isSaved) {

                savedCourses = savedCourses.filter(c => c.id !== course.id);
                localStorage.setItem('savedCourses', JSON.stringify(savedCourses));
                saveCourseBtn.innerHTML = '<i class="far fa-heart"></i> Save';
                saveCourseBtn.style.color = '';
                saveCourseBtn.style.borderColor = '';
                showToast('Course removed from saved list!', 'success');
            } else {

                savedCourses.push({
                    id: course.id,
                    title: course.title,
                    instructor: course.instructor.name,
                    image: course.image,
                    price: course.price
                });
                localStorage.setItem('savedCourses', JSON.stringify(savedCourses));
                saveCourseBtn.innerHTML = '<i class="fas fa-heart"></i> Saved';
                saveCourseBtn.style.color = '#e74c3c';
                saveCourseBtn.style.borderColor = '#e74c3c';
                showToast('Course saved successfully!', 'success');
            }
        });


        const enrollNowBtn = document.getElementById('enroll-now-btn');
        enrollNowBtn.addEventListener('click', function () {

            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {

                const authPage = document.getElementById('authPage');
                const loginForm = document.getElementById('loginForm');
                const signupForm = document.getElementById('signupForm');
                if (authPage && loginForm && signupForm) {
                    authPage.style.display = 'flex';
                    loginForm.classList.add('active');
                    signupForm.classList.remove('active');


                    loginForm.addEventListener('submit', function handleLoginSubmit(e) {
                        e.preventDefault();
                        const email = document.getElementById('login-email').value;
                        const password = document.getElementById('login-password').value;
                        if (email && password) {
                            localStorage.setItem('currentUser', JSON.stringify({email}));
                            authPage.style.display = 'none';
                            checkEnrollment(course);
                            loginForm.removeEventListener('submit', handleLoginSubmit);
                        } else {
                            showToast('Please enter valid login credentials.', 'error');
                        }
                    });


                    const showSignup = document.getElementById('showSignup');
                    if (showSignup) {
                        showSignup.addEventListener('click', function handleShowSignup(e) {
                            e.preventDefault();
                            loginForm.classList.remove('active');
                            signupForm.classList.add('active');
                            showSignup.removeEventListener('click', handleShowSignup);
                        });
                    }


                    signupForm.addEventListener('submit', function handleSignupSubmit(e) {
                        e.preventDefault();
                        const name = document.getElementById('signup-name').value;
                        const email = document.getElementById('signup-email').value;
                        const password = document.getElementById('signup-password').value;
                        const confirmPassword = document.getElementById('signup-confirm').value;
                        if (password === confirmPassword && email && name) {
                            localStorage.setItem('currentUser', JSON.stringify({email, name}));
                            authPage.style.display = 'none';
                            checkEnrollment(course);
                            signupForm.removeEventListener('submit', handleSignupSubmit);
                        } else {
                            showToast('Please ensure all fields are filled and passwords match.', 'error');
                        }
                    });


                    const closeAuth = document.getElementById('closeAuth');
                    if (closeAuth) {
                        closeAuth.addEventListener('click', function handleCloseAuth() {
                            authPage.style.display = 'none';
                            closeAuth.removeEventListener('click', handleCloseAuth);
                        });
                    }
                } else {
                    showToast('Error: Authentication form not found. Please try again.', 'error');
                }
            } else {
                checkEnrollment(course);
            }
        });


        function checkEnrollment(course) {
            const enrolledCourses = JSON.parse(localStorage.getItem('enrolledCourses')) || [];
            if (enrolledCourses.some(c => c.id === course.id)) {
                showToast('You are already enrolled in this course!', 'error');
                setTimeout(() => {
                    window.location.href = 'my-courses.html';
                }, 1500);
            } else {
                window.location.href = `payment.html?id=${course.id}`;
            }
        }
    }
</script>
</body>
</html>